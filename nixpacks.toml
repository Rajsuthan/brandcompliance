[phases.setup]
nixPkgs = ["python311"]
aptPkgs = ["python3-dev", "python3-pip", "build-essential"]

[phases.build]
cmds = ["python3 -m pip install --upgrade pip", "python3 -m pip install -r backend/requirements.txt"]

[start]
cmd = "cd backend && gunicorn -w 2 -k uvicorn.workers.UvicornWorker main:app --bind=0.0.0.0:${PORT:-8080} --timeout 600"
